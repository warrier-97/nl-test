(this["webpackJsonpnl-test"]=this["webpackJsonpnl-test"]||[]).push([[0],{112:function(e,t,n){e.exports=n(227)},124:function(e,t){},126:function(e,t){},159:function(e,t){},160:function(e,t){},225:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){"use strict";n.r(t);n(113);var r,a,i,o,c,s,u,l,b,f,h,m,d,p,y,O,j,v,g,w,E,k=n(0),S=n.n(k),_=n(110),z=n.n(_),J=n(28),N=n.n(J),x=n(43),A=n(29),B=n(230),F=n(228),C=n(229),M=n(231),P=n(16),I=n(27),H=n(13),L=function(){function e(){Object(P.a)(this,e)}return Object(I.a)(e,null,[{key:"serialize",value:function(e){var t=new H.JsonConvert;return t.operationMode=H.OperationMode.ENABLE,t.serializeObject(e)}},{key:"serializeArray",value:function(e){var t=new H.JsonConvert;return t.operationMode=H.OperationMode.ENABLE,t.serializeArray(e)}},{key:"deserialize",value:function(e,t){var n=new H.JsonConvert;return n.operationMode=H.OperationMode.ENABLE,n.deserializeObject(t,e)}},{key:"deserializeArray",value:function(e,t){var n=new H.JsonConvert;return n.operationMode=H.OperationMode.ENABLE,n.deserializeArray(t,e)}}]),e}(),W=n(17),T=n(18),U=(n(70),r=Object(H.JsonObject)("Story"),a=Object(H.JsonProperty)("author-name",String),i=Object(H.JsonProperty)("headline",String),o=Object(H.JsonProperty)("subheadline",String),c=Object(H.JsonProperty)("id",String),s=Object(H.JsonProperty)("hero-image-s3-key",String),r((l=function(){function e(){Object(P.a)(this,e),Object(W.a)(this,"_authorName",b,this),Object(W.a)(this,"_headline",f,this),Object(W.a)(this,"_subHeadline",h,this),Object(W.a)(this,"_id",m,this),Object(W.a)(this,"_src",d,this)}return Object(I.a)(e,[{key:"id",get:function(){return this._id}},{key:"authorName",get:function(){return this._authorName}},{key:"headline",get:function(){return this._headline}},{key:"subHeadline",get:function(){return this._subHeadline}},{key:"src",get:function(){return"".concat("https://gumlet.assettype.com/").concat(this._src)}}]),e}(),b=Object(T.a)(l.prototype,"_authorName",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=Object(T.a)(l.prototype,"_headline",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=Object(T.a)(l.prototype,"_subHeadline",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=Object(T.a)(l.prototype,"_id",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=Object(T.a)(l.prototype,"_src",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=l))||u),$=(p=Object(H.JsonObject)("Item"),y=Object(H.JsonProperty)("id",String),O=Object(H.JsonProperty)("story",U),p((v=function(){function e(){Object(P.a)(this,e),Object(W.a)(this,"_id",g,this),Object(W.a)(this,"_story",w,this)}return Object(I.a)(e,[{key:"id",get:function(){return this._id}},{key:"story",get:function(){return this._story}}]),e}(),g=Object(T.a)(v.prototype,"_id",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=Object(T.a)(v.prototype,"_story",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new U}}),j=v))||j),q="https://nl-static-site-assets.s3.ap-south-1.amazonaws.com/reports.json",D=new function e(){Object(P.a)(this,e),this.getStories=Object(x.a)(N.a.mark((function e(){var t,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(q);case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",L.deserializeArray($,n.items));case 7:case"end":return e.stop()}}),e)})))},G=n(111),K=n(45),Q=n.n(K),R=window.localStorage;!function(e){e.Favourites="@Favourites"}(E||(E={}));var V=new function e(){var t=this;Object(P.a)(this,e),this.secret="secret",this.get=function(e){var n=R.getItem(e);if(!n)return null;var r=Q.a.AES.decrypt(n,t.secret);return JSON.parse(r.toString(Q.a.enc.Utf8))},this.set=function(e,n){var r=Q.a.AES.encrypt(JSON.stringify(n),t.secret).toString();R.setItem(e,r)}},X=n(232),Y=(n(225),{favorite:{color:"tomato"},unFavorite:{color:"black"}}),Z=Object(k.memo)((function(e){var t=e.story,n=e.isFavorite,r=e.onFavorite,a=t.src,i=t.subHeadline,o=t.headline,c=t.id;return S.a.createElement(X.a,null,S.a.createElement(X.a.Img,{variant:"top",src:a}),S.a.createElement(X.a.Body,null,S.a.createElement(F.a,null,S.a.createElement(C.a,{xs:10},S.a.createElement(X.a.Title,{className:"headline"},o)),S.a.createElement(C.a,{xs:2},S.a.createElement("span",{style:n?Y.favorite:Y.unFavorite,onClick:function(){r(c)}},S.a.createElement("i",{className:"fa fa-heart"})))),S.a.createElement(X.a.Text,null,i)))})),ee=(n(226),Object(k.memo)((function(e){var t,n=e.stories,r=Object(k.useState)(null!==(t=V.get(E.Favourites))&&void 0!==t?t:[]),a=Object(A.a)(r,2),i=a[0],o=a[1],c=function(e){var t=[].concat(Object(G.a)(i),[e]);i.includes(e)&&(t=i.filter((function(t){return t!==e}))),o(t),V.set(E.Favourites,t)};return S.a.createElement(F.a,null,n.map((function(e){var t=e.story.id;return S.a.createElement(C.a,{lg:3,xs:12,sm:6,className:"row-container",key:t},S.a.createElement(Z,{story:e.story,isFavorite:i.includes(t),onFavorite:c}))})))}))),te={searchBarContainer:{justifyContent:"center"},searchBar:{width:"100%"}},ne=Object(k.memo)((function(){var e=Object(k.useState)([]),t=Object(A.a)(e,2),n=t[0],r=t[1],a=Object(k.useState)(!0),i=Object(A.a)(a,2),o=i[0],c=i[1],s=Object(k.useState)(""),u=Object(A.a)(s,2),l=u[0],b=u[1];Object(k.useEffect)((function(){(function(){var e=Object(x.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D.getStories();case 3:t=e.sent,r(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn("API has failed!");case 10:c(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()().then()}),[n]);var f=n.filter((function(e){return e.story.headline.startsWith(l)}));return S.a.createElement(B.a,{className:"container"},S.a.createElement(F.a,{style:te.searchBarContainer},S.a.createElement(C.a,{xs:12,md:6,className:"row-container"},S.a.createElement("input",{type:"text",placeholder:"Search here",value:l,onChange:function(e){b(e.target.value),r(n)},style:te.searchBar}))),o?S.a.createElement(M.a,{animation:"border"}):S.a.createElement(ee,{stories:f}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));z.a.render(S.a.createElement(S.a.StrictMode,null,S.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[112,1,2]]]);
//# sourceMappingURL=main.fd5f57f3.chunk.js.map